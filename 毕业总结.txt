极客时间训练营云原生2期班
        毕业总结

缘起

    19年底20年初，去合作方交流。什么阿里云、docker、springboot、k8s、rancher、go等大量新概念蜂拥而至，应接不暇。之前一直安逸地摆弄着自建机房的windows系统，自信地认为mcse+ccnp足以能力覆盖。突然需要转向公有云、linux、微服务、docker、甚至什么容器编排（Kubernetes），头大啊！像看天书一样看着合作方配置证书、webhook、rancher，懵懂地听对方交流master/slave，worker节点、订阅者消费者...... 瞬间才发现自己其实啥也不会。就是个门外汉、奥特曼！
    
    20年5月，合作方朋友推荐了极客时间张磊的《深入剖析Kubernetes》课程。当时就是按音频课听的，也没听太明白。到了21年初，通过学习强国发现原来张磊的课还有视频课，又顺藤摸瓜找到了阿里云大学和开发者社区，发现ACA、ACP课程十分基础，于是一发而不可收拾地考取了2个ACP、6个ACA，其中就包括云原生和devops方向的ACA。但是，由于课程理论偏多，实践较少，心里还是发虚，感觉没学到真本事。

    21年底，机缘巧合，极客时间推送了孟老师的docker和k8s小课，试学了一下，感觉教得挺明白。但当时还有一个DBA的ACA没考，错过了云原生第一期班的报名。终于在客服小柒的怂恿下，赶在21年最后一天下班前，报名了2月14开班的云原生二期训练营。（说实话，看到课程大纲的第一眼，我就知道，这门课正是我需要的！但自掏腰包，还是感觉有点儿小贵。后来网上有泄露出来的0期盗版，价格不断刷出新低...... 但通过试学，感受到了孟老师和极客团队在课程上的用心，觉得不应该做亏心事而，应该支持一下。也好按期学完，否则就像张磊的课，要是没点儿压力或动力，可能今生都是烂尾。）
    
    22年1月15日通过DBA考试后，终于可以专心学习云原生课程了。2月14开班仪式，班班的无滤镜大型社死现场，莫名的喜感。让我觉得极客很真实和亲切。

勉强

    前两个模块是讲Go语言。作为运维平时真的不接触代码，跟着孟老师重学编程，仿佛自己又重回大学时代。开篇就是十二因子，回头看确实是高屋建瓴的。切片最初还真不理解，后来发现基本上相当于不定长数组，似乎理解了。包括Init函数，初步领略了孟老师注重讲原理的课程风格。当学到goroutine时，才认识到go作为新语言的强大之处，原来并行计算的编程实现可以这么简单，包括通过channel实现异步解耦，似乎掌握了生产者消费者模型。（本以为此处会涉及redis，但其实没有）由于模块一耗费了大量时间，其实模块二相对高级的部分只是肤浅地看了一下。真正理解和记忆的并不多。等到交作业时，就遇到了整学期都要面对的问题，墙的问题！（希望中美关系能有所改善、科技的交流能畅通无阻）第一次作业交的比较仓促，git不会弄，最终时通过网页版，逐个upload上去的。

    只要是有作业需要交，周六周日必定点灯熬油。因为之前听了小课，本来以为容器一章应该没有难度，但真正到多阶段构建是，才发现其实真正上手，还是比较耗费时间的，又是仓促地交了作业，只写了dockerfile，也没dokcer push到dockerhub上，所以作业只拿了一个B（唯一的一个B，目前其它作业还都是A+）。

    我一直觉得，周日交作业，前一天才安排领教直播课有些迟。但接下来的我发现，对我来说都一样，由于工作的原因，好几次都是到了周六才有时间，才能静下心来学习孟老师的课，所以，听潘助教直播课的两个小时，真的是睡过去左一起儿，又一起儿的。（潘老师的课爱睡觉，是因为，潘老师语速太快，脑子跟不上。但相比催眠安神的功力，还是孟老师更胜一筹，那磁性的声音...... 1.25x绝对是正确的打开方式。）从潘老师那里学到的就是：你看一切都很简单啊，安装K8s集群，也就是分分钟的事儿啊，有什么难的。没吃过猪肉，但我看见潘sir跑了，厉害，服！另一个印象深刻的是助教在班级群里的提示性引导（当时我认为孟老师docker stop <container_id>的方式，不如用contain_name方便，助教抛出随机的contain_name有什么规律，引发思考，比填鸭式直给高级）

疫情

   模块四到八都是讲解K8S，但刚开始是真学不明白。幸运的是3月24日，沈阳疫情！城市停摆了，我被安排在单位留守。我真要感谢疫情，让我有时间来好好恶补一下模块四到八的课程，否则模块八的大作业是真交不上啊。当然，交作业还得先看潘sir跑。但由于麦子回放上传不及时（至少周日交作业前想再看看回放是没有的）于是自力更生，硬生生逼自己用mac下的qt自己录回放了。但实际发现领教讲的和孟老师要求的还是有些出入，借鉴意义不大，基本上还是得按孟老师的路数来。

     真正对k8s来感觉是从模块九、十开始的。一方面，通过模块九的实验，真正做到了自主重新规划虚拟机网段（包括pod-network-cidr和service-cidr）、重新成果搭建3master2node的k8s集群。发现calico插件只需要安装一次（第一次发现k8s的便捷之处），甚至按官方文档实现了keepalived+haproxy的HA；另一方面，模块十的实验中亲手安装了大量的k8s应用，像argocd，harbor，jekins，loki，prometheus，tekcon等等。让我对k8s的生产场景一下有了更直观和感性的认识（但prometheus就这么一带而过了还真和我预想的不一样，我以为这个大部头不得用个几课时才能讲明白啊。同样我个人囫囵吞枣的还有后面的CRD和operator......）

    直到4月13日，沈阳终于解封了，在单位待了20多天（其实过程比这曲折，3月11日，媳妇因与时空伴随者密接，被社区要求居家隔离，我和孩子为了自由在宾馆开了3天房，周六潘sir的直播课就是在宾馆里看的。然后媳妇因与阳性患者在同一核酸点检测，升级为时空伴随者被区里集中隔离了。我和孩子幸运地避免受到牵连。周一早上顶着小雨从宾馆送孩子上学，结果中午就宣布全市停课，只能把孩子接到姥姥家。课一停就是77天！直到5月最后一天，才恢复线下课。疫情期间抢菜的故事我就不讲了，封闭前跑了三家才抢到一颗大白菜，26元。当然，沈阳疫情和后来的上海比，还是好过太多了）20多天，媳妇在家抢菜，我却憋得五脊六兽，单位伙食极好，回家一称，胖了10多斤！本来在报名云原生训练营的同时我还定了一个全马突破计划，结果因为超重，最终跑了个520的成绩，汗颜啊。

    领导体谅我留守期间的辛苦，直接给我放假到五一节后。太好了，这样模块八（第二部分）和模块十的大作业就一点儿也不愁了。

    到了模块十二，又按照孟老师的指引，将最初的httpserver分拆成微服务，

实操

    其实，几个小时的录播课真的只是听个大概，要想真正理解和掌握，更多地还是需要实操，需要按老师的101文档，一个实验一个实验地自己动手尝试，期间可能会遇到各种问题，然后再翻文档、问度娘或者群内交流，才能更好地消化和理解，这种经历和经验才是未来工作的底气和自信。老师设计的实验都很实用，特别是作业，一方面连贯性很好，另一方面，考核点也很实用。例如ingress发布服务，http转https，istio的服务网格搭建以及envoy的七层路由功能都很实用。随着上手实践，才发现模块十的作业中prometheus是需要在go代码层面注入metric的，多了一个metric子模块，共就编译报错，才发现老早前的go mod根本就没学明白，每回都是到交作业、较真格的时候，才能真正搞明白一些事儿。有很多都是课程隐含需要会的东西，例如git、markdown、linux的很多东西。例如有第十周至第十二周，好多时候都是在解决pod状态不对的问题，除了running，各种状态都出现了，后来一看日志，原来是虚拟的分区大小不够，扩容后就都ok了。再比如istio的jaeger dashboard只能本地访问，群内交流才知道可以用--address=0.0.0.0，而不必nodepod往外映，但再查文档，又有说0.0.0.0的方式不安全，这样深入下去是无止境的。肤浅的还有yaml的---分隔符，不加就是报错，石墨文档中的缩进需要收藏然后才能编辑并正常复制缩进，否则就得手工慢慢调，笨死。httpserver的git分支也是到第十二模块才发现，才学会clone分支。总之必须实操，不上手，光看是永远也学不会的。实践出真知。

未来

    不经意间课程就结束了，我感觉孟老师和潘sir的视频还是需要再多刷几遍的，实验也要再多熟练熟练，再刷，应该记个笔记，因为上视频里翻东西太费劲了，还是文档方便。当然，希望群里的同学们也还能继续多交流，互相取长补短，共同进步。学无止境。极客时间的训练营，让我对容器编排有了初步认知、理解，最重要的是在工作上重新建立了业务技能方面的自信。感谢孟老师、感谢助教、感谢群内活跃的同学们。当然也感谢极客的工作人员，班班、麦子、小柒......

    相遇是缘分，且行且珍惜！

   十瓶
2022年6月3日 
